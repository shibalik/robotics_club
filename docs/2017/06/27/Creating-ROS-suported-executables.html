<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="Robotics Club | IITK">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
<title>Create ROS executables. | Robotics Club </title>
<!-- Page styles -->
<link rel="shortcut icon" href=http://localhost:4000/assets/images/favicon.ico type="image/x-icon">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
<link href="https://fonts.googleapis.com/css?family=Love+Ya+Like+A+Sister" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Orbitron" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.blue_grey-red.min.css" />
<link href="https://fonts.googleapis.com/css?family=PT+Mono" rel="stylesheet">
<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
<link rel="stylesheet" href=http://localhost:4000/css/styles.css>
<link rel="stylesheet" href=http://localhost:4000/css/syntax.css>
<link rel="stylesheet" href="http://localhost:4000/css/.css">
<link rel="stylesheet" href="http://localhost:4000/css/blog.css">
  </head>

  <body>

  <!-- ############## script for facebook page plugin ################################ -->
    <div id="fb-root"></div>
<script>
  var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ? true : false;
  if(!isMobile){
	  (function(d, s, id) {
	    var js, fjs = d.getElementsByTagName(s)[0];
	    if (d.getElementById(id)) return;
	    js = d.createElement(s); js.id = id;
	    js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.9";
	    fjs.parentNode.insertBefore(js, fjs);
	  }(document, 'script', 'facebook-jssdk'));
	}
</script>

    <!-- ############## material layout starts here #################################### -->
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header ">

      <!-- ################ header ############################################################### -->
      <div class="header mdl-layout__header mdl-layout__header--waterfall mdl-layout--no-desktop-drawer-button">
  <div class="mdl-layout__header-row layout-header">
    <span class="title mdl-layout-title">
      <a href="http://localhost:4000"><img class="logo-image" src=http://localhost:4000/assets/images/logo.png></a>
    </span>
    <span class="mobile-title mdl-layout-title">
       <center><img class="logo-image" src=http://localhost:4000/assets/images/mobile-logo.png></center>
    </span>
    <!-- Add spacer, to align navigation to the right in desktop -->
    <div class="mdl-layout-spacer"></div>
    <!-- <div class="search-box mdl-textfield mdl-js-textfield mdl-textfield--expandable mdl-textfield--floating-label mdl-textfield--align-right mdl-textfield--full-width">
      <label class="mdl-button mdl-js-button mdl-button--icon" for="search-field">
        <i class="material-icons">search</i>
      </label>
      <div class="mdl-textfield__expandable-holder">
        <input class="mdl-textfield__input" type="text" id="search-field">
      </div>
    </div> -->
    <!-- Navigation -->
    <div class="navigation-container">
      <nav class="navigation mdl-navigation">
        <a class="mdl-navigation__link mdl-typography--text-uppercase nav-blog" href="http://localhost:4000/blog/">Blog</a>
        <a class="mdl-navigation__link mdl-typography--text-uppercase nav-proj" href="http://localhost:4000/projects/">Projects</a>
        <a class="mdl-navigation__link mdl-typography--text-uppercase nav-tut" href="http://localhost:4000/tutorials/">Tutorials</a>
        <a class="mdl-navigation__link mdl-typography--text-uppercase nav-team" href="http://localhost:4000/team/">Team</a>
        <a class="mdl-navigation__link mdl-typography--text-uppercase nav-event" href="http://localhost:4000/events">Events</a>
        <!-- <a class="mdl-navigation__link mdl-typography--text-uppercase" href="">Know How??</a> -->
      </nav>
    </div>
    
  </div>
</div>
<!-- ####################### drawer for mobile view ########################################### -->
<div class="mdl-layout__drawer">
  <span class="mdl-layout-title">
     <a href="http://localhost:4000"><img class="logo-image" src=http://localhost:4000/assets/images/drawer-logo.png></a>
  </span>
  <nav class="drawer mdl-navigation">
    <a class="mdl-navigation__link mdl-typography--text-uppercase nav-blog" href="http://localhost:4000/blog/">Blog</a>
    <a class="mdl-navigation__link mdl-typography--text-uppercase nav-proj" href="http://localhost:4000/projects/">Projects</a>
    <a class="mdl-navigation__link mdl-typography--text-uppercase nav-tut" href="http://localhost:4000/tutorials">Tutorials</a>
    <a class="mdl-navigation__link mdl-typography--text-uppercase nav-team" href="http://localhost:4000/team/">Team</a>
    <a class="mdl-navigation__link mdl-typography--text-uppercase nav-event" href="http://localhost:4000/events/">Events</a>
    <!-- <a class="mdl-navigation__link mdl-typography--text-uppercase" href="">Know How??</a> -->
  </nav>
</div>

      <!-- ########################## websites contents ################################################ -->
      <div class="mdl-layout__content">

        <a name="top"></a>
<div class="hero-section"></div>

<div class="post-page post-section mdl-typography--text-justify">
  <div class="post-grid mdl-grid">
    <div class="post-content post-grid mdl-cell mdl-cell--3-offset-desktop mdl-cell--1-offset-tablet mdl-cell--6-col mdl-cell--6-col-tablet mdl-cell--4-col-phone">
      <div class="post-card mdl-card">
        <div class="mdl-card__title  mdl-shadow--2dp">
          <h1 class="mdl-card__title-text">Create ROS executables.</h1>
        </div>
        <div class="mdl-card__supporting-text">
          <h3 id="converting-a-c-executable-into-a-ros-supported">Converting a C++ executable into a ROS supported</h3>
<h4 id="general-things-to-be-done">General things to be done</h4>
<p>Every C++ node should contains the following lines.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="c1">//required header files you need to add headers files which you need for your node
</span><span class="cp">#include "ros/ros.h" //this header is compulsory.
#include "std_msgs/Int32.h"
</span>
<span class="n">using</span> <span class="n">namespace</span> <span class="n">ros</span><span class="p">;</span>
</code></pre>
</div>
<p>Just after the int main function add these two lines</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">,</span><span class="s">"demo_node"</span><span class="p">);</span> <span class="c1">// Initiallising node
</span><span class="n">NodeHandle</span> <span class="n">nh</span><span class="p">;</span> <span class="c1">// declaring node handle.
</span></code></pre>
</div>
<p>ROS have differen type of data types for its subscribe, publisher, service and client and all are initialised in its own way. Below are given for all of them.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="c1">//For Publisher declarartion plus initialisation
</span><span class="n">Publisher</span> <span class="n">pub_name</span> <span class="o">=</span> <span class="n">nh</span><span class="p">.</span><span class="n">advertise</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">Int32</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"/topic"</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> 
	<span class="c1">//Declaring publisher with name of publisher as pub_name and pub topic name as "/topic".
</span>	<span class="c1">//and buffer size as 10. buffer size specifies the no of messages to keep before throwing away
</span>	<span class="c1">//some to store new messages.
</span>
<span class="c1">//For Subscriber declarartion plus initialisation
</span><span class="n">Subscriber</span> <span class="n">sub_name</span> <span class="o">=</span> <span class="n">nh</span><span class="p">.</span><span class="n">subscribe</span><span class="p">(</span><span class="s">"/topic"</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">myfirst_callback</span><span class="p">);</span> <span class="c1">//Declaring subscriber with name as sub_name and sub topic name as "/topic".
</span>
<span class="c1">//For Client
</span><span class="n">ServiceClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">nh</span><span class="p">.</span><span class="n">serviceClient</span><span class="o">&lt;</span><span class="n">ros_lec</span><span class="o">::</span><span class="n">demo_srv</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"service_name"</span><span class="p">);</span><span class="c1">//declaring serviceclient variable client for service name as "sq"
</span>
<span class="c1">//For Server
</span><span class="n">ServiceServer</span> <span class="n">service</span> <span class="o">=</span> <span class="n">nh</span><span class="p">.</span><span class="n">advertiseService</span><span class="p">(</span><span class="s">"service_name"</span><span class="p">,</span> <span class="n">service_callback</span><span class="p">);</span> <span class="c1">//declaring serviceserver variable.
</span></code></pre>
</div>
<p>Variable declaration in ROS for different message types</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="c1">//pkgname::msg_name var_name; e.g.
</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">Int32</span> <span class="n">pub_msg</span><span class="p">;</span>
</code></pre>
</div>
<h2 id="specific-codes">Specific codes</h2>
<h3 id="publisher">Publisher</h3>
<p>You need to declare the message variable and store value in it and then use the following command to publish it.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="n">pub_name</span><span class="p">.</span><span class="n">publish</span><span class="p">(</span><span class="n">pub_msg</span><span class="p">);</span> <span class="c1">//publishing the msg
</span></code></pre>
</div>
<h3 id="subscriber">Subscriber</h3>
<p>You need to create a callback function to be called when any message pops on the topicit subscribes to.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">sub_callback</span><span class="p">(</span><span class="k">const</span> <span class="n">std_msgs</span><span class="o">::</span><span class="n">Int32</span><span class="o">&amp;</span> <span class="n">sub_msg</span><span class="p">)</span> <span class="c1">//Callback function nd storing the recieved msg in sub_msg...
</span><span class="p">{</span>
	<span class="c1">//do anything you want to do here.
</span>	<span class="c1">//The message recieved can be accesse using the variable sub_msg
</span>	<span class="c1">//in this case it is sub_msg.data
</span><span class="p">}</span>
</code></pre>
</div>
<h3 id="client">Client</h3>
<p>You need to declare the service variable and store value in it and then use the following command to send request to the service</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="n">ros_lec</span><span class="o">::</span><span class="n">demo_srv</span> <span class="n">srv</span><span class="p">;</span> <span class="c1">//service variable
// this is how value is stored in a servce variable srv.request.in
// srv_var.request.data_name_used_in_while_making_srv_file
// run this command to call service
</span><span class="n">client</span><span class="p">.</span><span class="n">call</span><span class="p">(</span><span class="n">srv</span><span class="p">)</span>
<span class="c1">//you will get your response in a varibale in srv_var.response.data_name_used_in_while_making_srv_file
</span></code></pre>
</div>
<h3 id="service">Service</h3>
<p>You need to create a callback function to be called when any service request is made.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="n">bool</span> <span class="nf">service_callback</span><span class="p">(</span><span class="n">ros_lec</span><span class="o">::</span><span class="n">demo_srv</span><span class="o">::</span><span class="n">Request</span> <span class="o">&amp;</span><span class="n">req</span><span class="p">,</span> <span class="n">ros_lec</span><span class="o">::</span><span class="n">demo_srv</span><span class="o">::</span><span class="n">Response</span> <span class="o">&amp;</span><span class="n">res</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//req.data_name_used_in_while_making_srv_file will contain your queried varialbe
</span>	<span class="c1">//while res.data_name_used_in_while_making_srv_file is used to store the response data inside 
</span>	<span class="c1">//this callback function.
</span>	<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>
<h2 id="spin-and-spinonce">spin() and spinOnce()</h2>
<p>You need to add any one of these two in order to check for callbacks.</p>

        </div>
        <div class="mdl-card__actions mdl-card--border">
	    	<a href="http://localhost:4000/blog/" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
	        	Back
          	</a>
          <div class="mdl-layout-spacer"></div>
          <button class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" disabled>
          Written on: June 27, 2017
          </button>
        </div>
      </div>

    </div>
  </div>
</div>


<div class="post-page post-section mdl-typography--text-justify">
  <div class="post-grid mdl-grid">
    <div class="post-content post-grid mdl-cell mdl-cell--3-offset-desktop mdl-cell--1-offset-tablet mdl-cell--6-col mdl-cell--6-col-tablet mdl-cell--4-col-phone">
      <div class="comment-card post-card mdl-card">
        <div id="disqus_thread"></div>
		<script>

		/**
		*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
		*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
		/*
		var disqus_config = function () {
		this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
		this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
		};
		*/
		(function() { // DON'T EDIT BELOW THIS LINE
		var d = document, s = d.createElement('script');
		s.src = 'https://test-blog-comments.disqus.com/embed.js';
		s.setAttribute('data-timestamp', +new Date());
		(d.head || d.body).appendChild(s);
		})();
		</script>
		<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      </div>
    </div>
  </div>
</div>

        
        <!-- ################ footer ####################################################################### -->
        <footer class="main-footer mdl-mega-footer mdl-shadow--6dp">
  <div class="mdl-mega-footer--top-section">
    <div class="mdl-mega-footer--left-section">
      <a href="https://www.facebook.com/roboclubiitkanpur/" style="text-decoration: none;">
        <button class="scl-btn mdl-button mdl-js-button mdl-js-ripple-effect" style="background-color: #01579b;">
          <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 19 18">
            <path class="foreground" fill="white" d="m 11.03968,16.000001 v -6.19608 h 2.07973 l 0.31141,-2.41472 h -2.39114 v -1.54165 c 0,-0.69912 0.19414,-1.17555 1.19666,-1.17555 l 1.27866,-5.6e-4 v -2.15974 c -0.22114,-0.0294 -0.98017,-0.0952 -1.86324,-0.0952 -1.8435605,0 -3.1057105,1.12532 -3.1057105,3.19188 v 1.7808 h -2.08506 v 2.41472 h 2.08506 v 6.19608 H 11.03968 z"></path>
          </svg>
        </button>
      </a>
      &nbsp;
      <a href="/" style="text-decoration: none;">
        <button class="scl-btn mdl-button mdl-js-button mdl-js-ripple-effect" style="background-color: #f3f3f3;">
          <span class="">
            <svg viewBox="0 0 16 16">
              <path fill="#424242" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"></path>
            </svg>
          </span>
        </button>
      </a>
      &nbsp;
      <a href="/">
        <button class="scl-btn mdl-button mdl-js-button mdl-js-ripple-effect" style="background-color: #03a9f4;">
          <svg viewBox="0 0 16 16"><path fill="#f3f3f3" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"></path></svg>
        </button>
      </a>
    </div>
    <div class="mdl-mega-footer--right-section">
      <a class="mdl-typography--font-light" href="#top">
        Back to Top
        <i class="material-icons">expand_less</i>
      </a>
    </div>
  </div>

  <div class="mdl-mega-footer--middle-section">
    <p class="mdl-typography--font-light">Â© 2017 Robotics Club, IIT Kanpur</p>
  </div>

  <!-- <div class="mdl-mega-footer--bottom-section">
    <a class="robo-link mdl-typography--font-light" href="">Blog</a>
    <a class="robo-link mdl-typography--font-light" href="">Privacy Policy</a>
  </div> -->

</footer>
      </div>
    </div>

    <!--########### Newsfeeds ########################################################################## -->
    <div id="feed-container" class="mdl-shadow--16dp">
  <button id="feed-bar" class="mdl-button--raised mdl-button--accent mdl-button mdl-js-button mdl-js-ripple-effect">
  Newsfeed 
  </button>
  <div id="feed-fb-box">
    <div class="fb-page" data-href="https://www.facebook.com/roboclubiitkanpur" data-tabs="timeline, events, messages" data-width="330" data-small-header="true" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="false">
  </div>
  </div>
</div>
<script>
  var feed_box = document.getElementById('feed-fb-box');
  var feed_bar = document.getElementById("feed-bar");
  var btn = 1;

  feed_bar.onclick = function(){
    if(btn){
      feed_box.style.display = "block";
      btn=0;
    }else{
      feed_box.style.display = "none";
      btn=1;
    }
  }
</script>

    
  </body>
</html>
